!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("core-js/modules/es6.function.name.js"),require("core-js/modules/es6.array.for-each.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es6.function.name.js","core-js/modules/es6.array.for-each.js"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self).chromeUtils={})}(this,(function(e){"use strict";var o={captureVisibleTab:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:"jpeg",quality:100};this.getCurrentTab((function(n){n.id;var t=e||n.windowId;chrome.tabs.captureVisibleTab(t,o,(function(e){var n=document.createElement("a");n.href=e,n.download="".concat((new Date).getTime(),".").concat(o.format),n.style.display="none",document.body.append(n),n.click(),document.body.remove(n)}))}))},createTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{windowId:windowId,url:url,selected:!1},o=arguments.length>1?arguments[1]:void 0;chrome.tabs.create(e,o)},removeTab:function(e,o){chrome.tabs.remove(e,o)},executeScriptOrCss:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{code:"",file:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"script",t=arguments.length>3?arguments[3]:void 0,r=o.code,c=o.file;if(r&&c)throw new Error("code和file不能同时存在");"script"===n?chrome.tabs.executeScript(e,o,t):"css"===n&&chrome.tabs.insertCSS(e,o,t)},getAllInTabs:function(e,o){chrome.tabs.getAllInWindow(e,o)},getCurrentTab:function(e){chrome.tabs.getSelected(null,e)},removeTabEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,o){};chrome.tabs.onRemoved.addListener(e)},selectTabChangeEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,o){};chrome.tabs.onSelectionChanged.addListener(e)}},n={getCookie:function(e,o){return chrome.cookies.get(e,o)},getAllCookie:function(e,o){return chrome.cookies.getAll(e,o)},setCookie:function(e){chrome.cookies.set(e)},removeCookie:function(e){var o=e.url,n=void 0===o?"":o,t=e.name,r=void 0===t?"":t;chrome.cookies.remove({url:n,name:r})},cookieChangeEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,o){};chrome.cookies.onChanged.addListener(e)}},t={createChromeMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return chrome.contextMenus.create(e,o)},removeChromeMenu:function(e,o){chrome.contextMenus.remove(e,o)},removeChromeAllMenu:function(e){chrome.contextMenus.removeAll(e)},updateChromeMenu:function(e,o,n){if(!e)throw new Error("menuId 不能为空");chrome.contextMenus.update(e,o,n)}},r={sendNotification:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{icon:"",body:"",onclick:function(){},onshow:function(){},onclose:function(){}},n=null,t=Notification.permission;return"granted"===t?n=new Notification(e,o):"denied"===t&&Notification.requestPermission().then((function(t){if("granted"!==t)throw new Error("用户拒绝桌面消息推送");n=new Notification(e,o)})),n}},c={createWindow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:""},o=arguments.length>1?arguments[1]:void 0;chrome.windows.create(e,o)},getCurrentWindow:function(e){chrome.windows.getCurrent(e)},removeWindow:function(e,o){chrome.windows.remove(e,o)},removeOtherWindow:function(){var e=this;chrome.windows.getAll({},(function(o){e.getCurrentWindow((function(n){var t=n.id;o.forEach((function(o){var n=o.id;n!==t&&e.removeWindow(n)}))}))}))},createWindowEvent:function(e){chrome.windows.onCreated.addListener(e)},removeWindowEvent:function(e){chrome.windows.onRemoved.addListener(e)}},i={sendMessage:function(e,o){chrome.tabs.query({active:!0,currentWindow:!0},(function(n){chrome.tabs.sendMessage(n[0].id,e,(function(e){"function"==typeof o&&o(e)}))}))},onMessage:function(e){chrome.runtime.onMessage.addListener((function(o,n,t){e(o,n,t)}))}},a={storageSyncSet:function(e,o){chrome.storage.sync.set(e,o)},storageSyncGet:function(e,o){chrome.storage.sync.get(e,o)},storageSyncRemove:function(e,o){chrome.storage.sync.remove(e,o)},storageSyncClear:function(e){chrome.storage.sync.clear(e)},storageLocalSet:function(e,o){chrome.storage.local.set(e,o)},storageLocalGet:function(e,o){chrome.storage.local.get(e,o)},storageLocalRemove:function(e,o){chrome.storage.local.remove(e,o)},storageLocalClear:function(e){chrome.storage.local.clear(e)},storageChangeEvent:function(e){chrome.storage.onChanged.addListener(e)}};e.chromeCookie=n,e.chromeMenu=t,e.chromeMessage=i,e.chromeNotification=r,e.chromeStorage=a,e.chromeTab=o,e.chromeWindow=c,Object.defineProperty(e,"__esModule",{value:!0})}));
